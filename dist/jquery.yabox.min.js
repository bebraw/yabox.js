(function(n){window.Zepto&&(["Left","Top"].forEach(function(t,e){function i(n){return n&&"object"==typeof n&&"setInterval"in n}function o(n){return i(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var r="scroll"+t;n.fn[r]=function(t){var i,c;return void 0===t?(i=this[0])?(c=o(i),c?"pageXOffset"in c?c[e?"pageYOffset":"pageXOffset"]:c.document.documentElement[r]||c.document.body[r]:i[r]):null:(this.each(function(){if(c=o(this)){var i=e?n(c).scrollLeft():t,s=e?t:n(c).scrollTop();c.scrollTo(i,s)}else this[r]=t}),void 0)}}),["width","height"].forEach(function(t){var e=t.replace(/./,function(n){return n[0].toUpperCase()});n.fn["outer"+e]=function(n){var e=this;if(e){var i=e[t](),o={width:["left","right"],height:["top","bottom"]};return o[t].forEach(function(t){n&&(i+=parseInt(e.css("margin-"+t),10))}),i}return null}})),n.fn.center=function(t){function e(){i.center(t),i.data("centered",!0)}t=t||n(window);var i=this;return this.css("position","absolute"),this.css("top",Math.max(0,(t.height()-this.outerHeight())/2+n(window).scrollTop())+"px"),this.css("left",Math.max(0,(t.width()-this.outerWidth())/2+n(window).scrollLeft())+"px"),this.data("centered")||n(window).on("resize",e).on("scroll",e),this}})(window.jQuery||window.Zepto),function(n){function t(t,c){function s(t){return function(){t&&f(n("."+r+":visible").last())()}}function u(){l.html(h),h.show(),c.cbs.show(a,l,t),l.center()}function f(t){return function(){var e=n("."+r+":visible").length>1;c.cbs.hide(e?n():a,t)}}var a=i(c,s(!0),function(){n("."+r+":visible").first().trigger("click")}),l=o(c,s(c.hideOnClick),a),h=e(t,c.$content);return t?(t.on("click",function(n){return n.preventDefault(),n.stopPropagation(),u(),!1}),void 0):{show:u,hide:s(!0),$full:l,$content:h,$overlay:a}}function e(t,e){if(e)$ret=e,e.hide();else{if(!t)return console.warn("No content given to yabox!"),n();$ret=t.clone().removeClass()}return $ret}function i(t,e,i){var o=n("."+c).first();return o.length?o:n("<div/>").appendTo(n("body")).addClass(c).on("click",i).on("hide",e).hide()}function o(t,e,i){return n("<div/>").hide().css({"z-index":parseInt(i.css("z-index"),10)+1}).addClass(r).addClass(t.fullClass).on("click",e).appendTo(n("body"))}var r="yabox_full",c="yabox_overlay";n.fn.yabox=function(e){function i(t){return n.extend(!0,{fullClass:"full",hideOnClick:!0,$content:null,cbs:{show:function(n,t){n.show(),t.show()},hide:function(n,t){t&&t.hide(),n.hide()}}},t)}return this.length?this.each(function(){var o=n(this);t(o,i(e))}):t(void 0,i(e))},n.fn.yabox.animated={show:function(n){return n=n||300,function(t,e){t.show(),e.fadeIn(n)}},hide:function(n,t){return n=n||300,t=t||300,function(e,i){i.fadeOut(n,function(){e.fadeOut(t)})}}},n.fn.yabox.hide=function(){n("."+c).trigger("hide")},window.Zepto&&(function(n){function t(t){return t=n(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}function e(n,t){n=n.replace(/=#\]/g,'="#"]');var e,i,o=s.exec(n);if(o&&o[2]in c&&(e=c[o[2]],i=o[3],n=o[1],i)){var r=Number(i);i=isNaN(r)?i.replace(/^["']|["']$/g,""):r}return t(n,e,i)}var i=n.zepto,o=i.qsa,r=i.matches,c=n.expr[":"]={visible:function(){return t(this)?this:void 0}},s=RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),u=/^\s*>/,f="Zepto"+ +new Date;i.qsa=function(t,r){var c;return e(r,function(e,s,a){var l;try{!e&&s?e="*":u.test(e)&&(l=n(t).addClass(f),e="."+f+" "+e),c=o(t,e)}catch(h){throw console.error("error performing selector: %o",r),h}finally{l&&l.removeClass(f)}return s?i.uniq(n.map(c,function(n,t){return s.call(n,t,c,a)})):c})},i.matches=function(n,t){return e(t,function(t,e,i){return!(t&&!r(n,t)||e&&e.call(n,null,i)!==n)})}}(Zepto),n.fn.fadeIn||(n.fn.fadeIn=function(t,e){e=e||function(){},n(this).show(),e()}),n.fn.fadeOut||(n.fn.fadeOut=function(t,e){e=e||function(){},n(this).hide(),e()}))}(window.jQuery||window.Zepto);