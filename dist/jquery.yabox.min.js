/*! yabox.js - v0.5.0 - 2012-10-19
* http://bebraw.github.com/yabox.js/
* Copyright (c) 2012 Juho Vepsalainen; Licensed MIT */
(function(e){jQuery.fn.center=function(t){function r(){n.center(t),n.data("centered",!0)}t=t||e(window);var n=this;return this.css("position","absolute"),this.css("top",Math.max(0,(t.height()-this.outerHeight())/2+e(window).scrollTop())+"px"),this.css("left",Math.max(0,(t.width()-this.outerWidth())/2+e(window).scrollLeft())+"px"),this.data("centered")||e(window).on("resize",r).on("scroll",r),this}})(jQuery),function(e){function t(t,n){function o(){return e("<div/>").appendTo(e("body")).hide()}function u(){var t=e("<div/>").hide().css({"z-index":r.css("z-index")+1}).addClass(n.fullClass).appendTo(e("body"));return t.bind("click",f(t)),t}function a(){var i;n.$content?(n.$content.show(),i=n.$content):t&&(i=t.clone()),i.removeClass(),s.html(i),s.center(),n.cbs.show(r,s,t),r.unbind("click"),r.bind("click",f(e("."+n.fullClass))),r.unbind("hide"),r.bind("hide",l(s))}function f(e){return function(){if(!n.hideOnClick)return;l(e)()}}function l(e){return function(){n.$content&&n.$content.hide(),n.cbs.hide(r,e,t)}}var r,i=e(".yabox_overlay").length>0;i?r=e(".yabox_overlay:first"):(r=e(n.overlayId).length?e(n.overlayId):o(),r.addClass("yabox_overlay"));var s=u();n.$content&&n.$content.hide();if(!t)return{show:a,hide:l(s)};t&&t.bind("click",function(e){e.preventDefault(),a()})}e.fn.yabox=function(n){function r(t){var n=e.extend(!0,{overlayId:"overlay",fullClass:"full",hideOnClick:!0,$content:null,cbs:{show:function(e,t){e.show(),t.show()},hide:function(e,t){t&&t.hide(),e.hide()}}},t);return n.overlayId="#"+n.overlayId,n}return this.length?this.each(function(){var i=e(this);t(i,r(n))}):t(undefined,r(n))},e.fn.yabox.hide=function(){e(".yabox_overlay").trigger("hide")}}(jQuery);